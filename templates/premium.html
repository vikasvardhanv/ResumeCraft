<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Upgrade to Resume Craft Premium and check out securely via Stripe at resumecraft.dev/premium.">
    <title>Resume Craft Premium | Secure Stripe Checkout</title>
    <link rel="canonical" href="https://resumecraft.dev/premium">
    <link rel="stylesheet" href="/styles.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.8em' font-size='80'%3E✨%3C/text%3E%3C/svg%3E">
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
    <header class="hero premium-hero">
        <div class="container premium-hero-content">
            <div class="hero-text">
                <p class="tagline">Secure checkout powered by Node + Stripe</p>
                <h1 class="gradient-text">Resume Craft Premium</h1>
                <p class="description">Unlimited job scans, saved workspaces, and collaboration notes. Payments stay on <code>https://resumecraft.dev/create-checkout-session</code> so you never leave our domain.</p>
                <div class="cta-buttons">
                    <button class="btn btn-primary" data-checkout data-source="premium-hero">Start Subscription</button>
                    <a class="btn btn-secondary" href="mailto:billing@resumecraft.dev">Talk to sales</a>
                </div>
                <p class="premium-guarantee">30-day money-back guarantee • Cancel anytime</p>
            </div>
        </div>
    </header>

    <main>
        <section class="premium-plan">
            <div class="container">
                <div class="pricing-grid">
                    <div class="pricing-card pricing-card-featured">
                        <div class="pricing-badge">Premium</div>
                        <div class="pricing-header">
                            <h2>Resume Craft Pro Workspace</h2>
                            <div class="price">
                                <span class="price-amount">$9.99</span>
                                <span class="price-period">/mo</span>
                            </div>
                            <p class="pricing-description">Unlimited AI tailoring + team sharing.</p>
                        </div>
                        <ul class="pricing-features">
                            <li>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                                Unlimited job scans per month
                            </li>
                            <li>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                                Collaboration links & history
                            </li>
                            <li>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                                Priority email + Slack support
                            </li>
                            <li>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                                Stripe Checkout hosted at resumecraft.dev
                            </li>
                        </ul>
                        <button class="btn btn-primary" data-checkout data-source="premium-plan">Subscribe with Stripe</button>
                        <p class="pricing-description" style="margin-top:16px;">Need an invoice? Email <a href="mailto:billing@resumecraft.dev">billing@resumecraft.dev</a>.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="features premium-benefits">
            <div class="container">
                <h2>Built for serious job seekers</h2>
                <div class="feature-grid">
                    <div class="feature">
                        <div class="feature-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="14" rx="2" ry="2"></rect>
                                <line x1="7" y1="7" x2="17" y2="7"></line>
                                <line x1="7" y1="11" x2="17" y2="11"></line>
                            </svg>
                        </div>
                        <h3>Job-specific templates</h3>
                        <p>Maintain templates for PM, design, sales, and engineering roles inside one premium workspace.</p>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 8c-2.21 0-4 1.79-4 4"></path>
                                <path d="M12 4c-4.42 0-8 3.58-8 8"></path>
                                <path d="M12 16c2.21 0 4-1.79 4-4"></path>
                                <path d="M12 20c4.42 0 8-3.58 8-8"></path>
                            </svg>
                        </div>
                        <h3>Collaboration ready</h3>
                        <p>Invite mentors or recruiters to leave notes without sharing your entire resume file.</p>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10H7"></path>
                                <path d="M21 6H3"></path>
                                <path d="M21 14H3"></path>
                                <path d="M21 18H7"></path>
                            </svg>
                        </div>
                        <h3>Audit trail</h3>
                        <p>Track every change so you can see which copy generated interviews.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="how-it-works premium-flow">
            <div class="container">
                <h2>Checkout flow</h2>
                <div class="steps">
                    <div class="step">
                        <div class="step-icon">1</div>
                        <h3>Click any premium button</h3>
                        <p>Every button with the Premium badge triggers the same secure Stripe flow.</p>
                    </div>
                    <div class="step">
                        <div class="step-icon">2</div>
                        <h3>Node creates your session</h3>
                        <p>We POST to <code>/create-checkout-session</code> and receive a Stripe session ID.</p>
                    </div>
                    <div class="step">
                        <div class="step-icon">3</div>
                        <h3>Complete payment</h3>
                        <p>You are redirected to Stripe Checkout, but the callback URLs land back on our domain.</p>
                    </div>
                    <div class="step">
                        <div class="step-icon">4</div>
                        <h3>Resume Craft upgrades instantly</h3>
                        <p>After Stripe confirms the payment, Premium unlocks inside the extension.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="cta-section premium-cta">
            <div class="container">
                <h2>Subscribe when you're ready</h2>
                <p>Buttons below use the secure Node endpoint powering https://resumecraft.dev/create-checkout-session.</p>
                <div class="cta-buttons" style="justify-content:center;">
                    <button class="btn btn-primary" data-checkout data-source="premium-cta">Start Premium</button>
                    <a class="btn btn-secondary" href="mailto:billing@resumecraft.dev">Talk to sales</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>Resume Craft</h3>
                    <p>Job-winning resumes with an AI copilot and a secure Node backend.</p>
                </div>
                <div class="footer-links">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="mailto:support@resumecraft.dev">support@resumecraft.dev</a></li>
                        <li><a href="mailto:billing@resumecraft.dev">Billing</a></li>
                        <li><a href="https://github.com/vikasvardhanv" target="_blank" rel="noreferrer">GitHub</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="#">Terms</a></li>
                        <li><a href="#">Privacy</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Resume Craft. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        const STRIPE_PUBLISHABLE_KEY = '__STRIPE_PUBLISHABLE_KEY__';
        let stripeClient = null;

        function startCheckout(button) {
            if (!stripeClient) {
                alert('Stripe is not configured yet.');
                return;
            }

            const originalText = button.dataset.originalText || button.textContent;
            button.dataset.originalText = originalText;
            button.disabled = true;
            button.textContent = 'Creating session...';

            fetch('/create-checkout-session', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ source: button.dataset.source || 'premium-page' })
            })
                .then((res) => res.json())
                .then((session) => {
                    if (!session.id) {
                        throw new Error(session.error || 'Checkout session missing.');
                    }
                    return stripeClient.redirectToCheckout({ sessionId: session.id });
                })
                .then((result) => {
                    if (result.error) {
                        alert(result.error.message);
                    }
                })
                .catch((error) => {
                    alert(error.message || 'Unable to start checkout. Please refresh and try again.');
                })
                .finally(() => {
                    button.disabled = false;
                    button.textContent = originalText;
                });
        }

        document.addEventListener('DOMContentLoaded', () => {
            try {
                stripeClient = Stripe(STRIPE_PUBLISHABLE_KEY);
            } catch (err) {
                console.warn('Stripe initialization failed', err);
            }

            document.querySelectorAll('[data-checkout]').forEach((btn) => {
                btn.addEventListener('click', () => startCheckout(btn));
            });
        });
    </script>
</body>
</html>
